---
layout: post
title:  추천시스템 개요 
---

## 개요
### 추천 시스템 정의
여러 아이템 가운데 고객에게 가치 있는것을 선정해서 고객의 의사결정을 지원

### 추천 시스템의 요소
* 입력
  * 입력 데이터 종류  
    * contents :  가격, 위치, 외형, 룸타입, 이용시간 등등
      * interaction : 리뷰, 찜, 구매, 예약 등등
* 프로세싱
  * 개요추천 (개인화 없음)
    * 예 - 신규아이템순, 가격순, 인기순 등등  
    * 모든 사용자에게 동일한 결과 반영
    * 아이템 반영이 잦은 서비스에 효과적
  * 연관 아이템 추천
    * 유저 니즈가 반영된 아이템을 추천
    * 각 아이템 사이의 유사도 사용 - 유사도의 정의는 도메인 특성에 맞게 정의
    * 체류시간 증가 , 구매율 증가
    * 특정 인기상품에 대한 처리 필요
  * 개인화 추천
    * 사용자의 이력이나 프로필 데이터 등을 기반으로 추천
* 노출 
  * UI/UX 구성도 매우 중요

### 추천 시스템 개발 요소
* 비지니스 문제 정의
  * 문제를 발견하고 기대 수준을 정의
  * 해결하고자 하는 문제에 따라 구현되는 추천 시스템의 종류가 달라짐
* 데이터 사이언스
  * 도메인 특성, 문제의 복잡도, 얻고자 하는  KPI에 따라 다양한 방법론을 적용한 시스템을 구현하는 능력 필요
* 데이터 엔지니어링
  * 구현된 알고리즘을 안정적인 방법으로 운영 & 데이터 서빙 

### 추천 시스템 프로젝트 진행
* 과제 정의
  * 데이터를 이용한 정량적 방법, 사용자의 피드백을 이용한 정성적 방법을 통해 분석한다.
  * 분석한 문제를 리스트업하고 중요도 결정
* 가설 수립
  * 과제별 가설을 수립하고 ROI가 높은 과제 부터 실행
* 데이터 설계/수집/가공
  * 사용자 정보
  * 아이템, 콘텐츠 정보
  * 인터렉션 정보
* 알고리즘 선정
  * 풀고자 하는 문제에 의존
  * 비용대비 효과 - 일정 정확도 이상이 되면 그 이상으로 정확도를 올리는데 많은 비용이 든다. 비용대비 적절한 알고리즘을 선정
  * 비용 곡선
  * <img src="/assets/rc1.png" width="60%" height="90%"  />
* 학습파라메터 튜닝
  * 선정된 알고리즘의 최적화를 위한 학습 파라메터를 튜닝하여 점차 개선 한다.
  * 추천 시스템의 정확도 검증
    * Recall - 실제 positive중에 모델이 찾은 positive 비율
    * Precision - 모델이 positive하다고 판별한 것중에 실제 Positive한 비율
    * <img src="/assets/rc2.png" width="60%" height="90%"/>
* 시스템 구현
  * 배치 추천
  * 실시간 추천
* 평가 및 개선
  * A/B테스트, 전후 테스트, 시계열에 따른 트랜드등 평가에 고려
  * 이후 가설을 검정하고 예상외의 결과가 확인되면 다시 개선, 반영, 평가를 진행

## 추천 알고리즘 개요
### 추천알고리즘 분류 
<img src="/assets/rc3.png" width="60%" height="90%" style="display: block; margin: 0 auto;" />
<img src="/assets/rc4.png" width="60%" height="90%" style="display: block; margin: 0 auto;" />

### 내용 기반 필터링(CB Content-based Filtering)
* 사용자가 구매하거나 선택한 아이템과 유사한 아이템을 추천
### 협조 필터링(CF Collaborative Filtering)
* 메모리 기반
  * 사용자-사용자 메모리 기반 방법
    * 추천받을 사용자와 선호도가 비슷한 사용에 착안해서 추천
    * 사용자 사이의 유사도 필요  ex) 과거 구매이력이 중복되는 유저
  * 아이템-아이템 메모리 기반 방법
    * 추천받을 사용자가 선호하는 아이템과 비슷한 아이템을 추천
    * 아이템 사이의 유사도 필요
    * 아마존의 기저귀-맥주 유사도가 높은 개념
  * 평갓값 행렬 -  사용자 * 아이템 행렬 
  * <img src="/assets/rc5.png" width="60%" height="90%"/>
* 모델 기반
  * 데이터의 규칙성을 학습한 모델로 측정되지 않은 아이템의 평갓값을 예측하여 추천
  * 토픽모델, 행렬분해 등 다양한 모델이 존재
  * 메모리 기반 보다 빠르지만 최신 데이터 반영을 위한 재학습 필요
  * 내용 기반 필터링 보다 다양한 결과 추천 가능 , 도메인 지식이 많지 않아도 적용 가능
### 하이브리드
  * 내용기반 필터링과 협업 필터링을 결합하여 사용 

### 유사도 계산
<img src="/assets/rc6.png" width="60%" height="90%" />

### 추천 알고리즘 비교
<img src="/assets/rc8.png" width="80%" height="90%"/>

### 평가지표 
<img src="/assets/rc6.png" width="89%" height="90%"/>
